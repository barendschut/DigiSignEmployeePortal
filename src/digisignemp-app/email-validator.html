<link rel="import" href="/../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/iron-validator-behavior/iron-validator-behavior.html">


<dom-module id="email-validator">
  <script>
   class EmailValidator extends Polymer.mixinBehaviors([Polymer.IronValidatorBehavior], Polymer.Element) { 
      static get is() { return 'email-validator'; }
	  
	   ready() {

      super.ready();
      new Polymer.IronMeta({type: 'validator', key: EmailValidator.is, value: this});
    }
	 
	  validate(value){
		console.log('Called');
		const emailRegex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
		return emailRegex.test(value);
		
	  }
    }

    window.customElements.define(EmailValidator.is, EmailValidator);
  </script>
</dom-module>
